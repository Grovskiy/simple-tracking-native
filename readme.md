# Calorie Tracker - Vanilla JS + Web Components

–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∫–∞–ª–æ—Ä—ñ–π, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Web Components —ñ –ø—Ä–∞—Ü—é—î –Ω–∞–ø—Ä—è–º—É –∑ Supabase.

## –û—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Vanilla JavaScript** - –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤
- **Web Components** - –Ω–∞—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- **Supabase** - –±–µ–∫–µ–Ω–¥ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- **Tailwind CSS** - –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó
- **PWA –∑ Workbox** - –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üì± –ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ (PWA) - –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
- üîê Google –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Supabase
- üåô –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–æ—ó/—Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
- üìä –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—É
- ü•ó –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏–π–æ–º—ñ–≤ —ó–∂—ñ
- üéØ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–ª–µ–π –∫–∞–ª–æ—Ä—ñ–π
- üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

## –ü–æ—á–∞—Ç–æ–∫ —Ä–æ–±–æ—Ç–∏

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone https://github.com/your-username/calorie-tracker-vanilla.git
cd calorie-tracker-vanilla
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
npm install
```

3. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Supabase

   - –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É Supabase [https://supabase.com](https://supabase.com)
   - –û–Ω–æ–≤—ñ—Ç—å URL —ñ –∫–ª—é—á —É —Ñ–∞–π–ª–∞—Ö `services/auth-service.js` —Ç–∞ `services/db-service.js`
   - –°—Ç–≤–æ—Ä—ñ—Ç—å –Ω–µ–æ–±—Ö—ñ–¥–Ω—ñ —Ç–∞–±–ª–∏—Ü—ñ —É Supabase –∑–∞ –¥–æ–ø–æ–º–æ–≥–æ—é SQL —Å–∫—Ä–∏–ø—Ç–∞ (–¥–∏–≤. –Ω–∏–∂—á–µ)
   - –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Google OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä —É –∫–æ–Ω—Å–æ–ª—ñ Supabase

4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
npm run dev
```

5. –î–ª—è –∑–±—ñ—Ä–∫–∏

```bash
npm run build
```

## SQL –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```sql
-- –¢–∞–±–ª–∏—Ü—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
CREATE TABLE products (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  name TEXT NOT NULL,
  calories_per_100g INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE
);

-- –¢–∞–±–ª–∏—Ü—è –ø—Ä–∏–π–æ–º—ñ–≤ —ó–∂—ñ
CREATE TABLE entries (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  product_id UUID NOT NULL,
  product_name TEXT NOT NULL,
  grams INTEGER NOT NULL,
  calories INTEGER NOT NULL,
  date DATE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE,
  CONSTRAINT fk_product FOREIGN KEY (product_id) REFERENCES products (id) ON DELETE CASCADE
);

-- –¢–∞–±–ª–∏—Ü—è —Ü—ñ–ª–µ–π –ø–æ –∫–∞–ª–æ—Ä—ñ—è–º
CREATE TABLE calorie_goals (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  value INTEGER NOT NULL,
  start_date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE
);

-- –Ü–Ω–¥–µ–∫—Å–∏
CREATE INDEX idx_products_user_id ON products (user_id);
CREATE INDEX idx_entries_user_id ON entries (user_id);
CREATE INDEX idx_entries_date ON entries (date);
CREATE INDEX idx_goals_user_id ON calorie_goals (user_id);
CREATE INDEX idx_goals_start_date ON calorie_goals (start_date);

-- –î–æ–∑–≤–æ–ª–∏ —á–µ—Ä–µ–∑ Row Level Security
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE entries ENABLE ROW LEVEL SECURITY;
ALTER TABLE calorie_goals ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è products
CREATE POLICY "Users can view only their products"
  ON products FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own products"
  ON products FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own products"
  ON products FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own products"
  ON products FOR DELETE USING (auth.uid() = user_id);

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è entries
CREATE POLICY "Users can view only their entries"
  ON entries FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own entries"
  ON entries FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own entries"
  ON entries FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own entries"
  ON entries FOR DELETE USING (auth.uid() = user_id);

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è calorie_goals
CREATE POLICY "Users can view only their goals"
  ON calorie_goals FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own goals"
  ON calorie_goals FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own goals"
  ON calorie_goals FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own goals"
  ON calorie_goals FOR DELETE USING (auth.uid() = user_id);
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç—É

```
calorie-tracker-vanilla/
‚îú‚îÄ‚îÄ index.html               # –ì–æ–ª–æ–≤–Ω–∞ HTML —Å—Ç–æ—Ä—ñ–Ω–∫–∞
‚îú‚îÄ‚îÄ manifest.json            # PWA –º–∞–Ω—ñ—Ñ–µ—Å—Ç
‚îú‚îÄ‚îÄ assets/                  # –°—Ç–∞—Ç–∏—á–Ω—ñ —Ñ–∞–π–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ css/                 # –ö–æ–º–ø—ñ–ª—å–æ–≤–∞–Ω—ñ CSS
‚îÇ       ‚îî‚îÄ‚îÄ styles.css
‚îú‚îÄ‚îÄ components/              # Web Components
‚îÇ   ‚îú‚îÄ‚îÄ app-root.js          # –ì–æ–ª–æ–≤–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç
‚îÇ   ‚îú‚îÄ‚îÄ auth-page.js         # –°—Ç–æ—Ä—ñ–Ω–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—ó
‚îÇ   ‚îú‚îÄ‚îÄ nav-bar.js           # –ù–∞–≤—ñ–≥–∞—Ü—ñ–π–Ω–∞ –ø–∞–Ω–µ–ª—å
‚îÇ   ‚îú‚îÄ‚îÄ calorie-tracker.js   # –û—Å–Ω–æ–≤–Ω–∏–π —Ç—Ä–µ–∫–µ—Ä
‚îÇ   ‚îî‚îÄ‚îÄ ...                  # –Ü–Ω—à—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
‚îú‚îÄ‚îÄ services/                # –°–µ—Ä–≤—ñ—Å–∏ –¥–ª—è —Ä–æ–±–æ—Ç–∏ –∑ –¥–∞–Ω–∏–º–∏
‚îÇ   ‚îú‚îÄ‚îÄ auth-service.js      # –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü—ñ—è
‚îÇ   ‚îî‚îÄ‚îÄ db-service.js        # –†–æ–±–æ—Ç–∞ –∑ –±–∞–∑–æ—é –¥–∞–Ω–∏—Ö
‚îú‚îÄ‚îÄ src/                     # –í–∏—Ö—ñ–¥–Ω—ñ —Ñ–∞–π–ª–∏
‚îÇ   ‚îî‚îÄ‚îÄ styles/              # –°—Ç–∏–ª—ñ Tailwind
‚îÇ       ‚îî‚îÄ‚îÄ input.css        # –í—Ö—ñ–¥–Ω–∏–π —Ñ–∞–π–ª –¥–ª—è Tailwind
‚îî‚îÄ‚îÄ utils/                   # –î–æ–ø–æ–º—ñ–∂–Ω—ñ —Ñ—É–Ω–∫—Ü—ñ—ó
    ‚îî‚îÄ‚îÄ helpers.js           # –ó–∞–≥–∞–ª—å–Ω—ñ —É—Ç–∏–ª—ñ—Ç–∏
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
