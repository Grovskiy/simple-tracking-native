# Calorie Tracker - Vanilla JS + Web Components

–ú—ñ–Ω—ñ–º–∞–ª—ñ—Å—Ç–∏—á–Ω–∏–π –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –¥–ª—è –≤—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è –∫–∞–ª–æ—Ä—ñ–π, —è–∫–∏–π –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—î Web Components —ñ –ø—Ä–∞—Ü—é—î –Ω–∞–ø—Ä—è–º—É –∑ Supabase.

üåê **[–ü–µ—Ä–µ–≥–ª—è–Ω—É—Ç–∏ –¥–µ–º–æ –Ω–∞ GitHub Pages](https://your-username.github.io/calorie-tracker/)**

## –û—Å–Ω–æ–≤–Ω—ñ —Ç–µ—Ö–Ω–æ–ª–æ–≥—ñ—ó

- **Vanilla JavaScript** - –±–µ–∑ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫—ñ–≤
- **Web Components** - –Ω–∞—Ç–∏–≤–Ω—ñ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∏
- **Supabase** - –±–µ–∫–µ–Ω–¥ –¥–ª—è –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—ó —Ç–∞ –±–∞–∑–∏ –¥–∞–Ω–∏—Ö
- **Tailwind CSS** - –¥–ª—è —Å—Ç–∏–ª—ñ–∑–∞—Ü—ñ—ó
- **PWA –∑ Workbox** - –¥–ª—è –≤—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω

## –û—Å–æ–±–ª–∏–≤–æ—Å—Ç—ñ

- üì± –ü—Ä–æ–≥—Ä–µ—Å–∏–≤–Ω–∏–π –≤–µ–±-–∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ (PWA) - –º–æ–∂–Ω–∞ –≤—Å—Ç–∞–Ω–æ–≤–∏—Ç–∏ –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω
- üîê Google –∞—É—Ç–µ–Ω—Ç–∏—Ñ—ñ–∫–∞—Ü—ñ—è —á–µ—Ä–µ–∑ Supabase
- üåô –ê–≤—Ç–æ–º–∞—Ç–∏—á–Ω–µ –≤–∏–∑–Ω–∞—á–µ–Ω–Ω—è —Å–≤—ñ—Ç–ª–æ—ó/—Ç–µ–º–Ω–æ—ó —Ç–µ–º–∏
- üìä –í—ñ–¥—Å—Ç–µ–∂–µ–Ω–Ω—è —â–æ–¥–µ–Ω–Ω–æ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—É
- ü•ó –î–æ–¥–∞–≤–∞–Ω–Ω—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤ —Ç–∞ –ø—Ä–∏–π–æ–º—ñ–≤ —ó–∂—ñ
- üéØ –í—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—è —Ü—ñ–ª–µ–π –∫–∞–ª–æ—Ä—ñ–π
- üîÑ –°–∏–Ω—Ö—Ä–æ–Ω—ñ–∑–∞—Ü—ñ—è –º—ñ–∂ –ø—Ä–∏—Å—Ç—Ä–æ—è–º–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ

## –†–æ–∑–≥–æ—Ä—Ç–∞–Ω–Ω—è –Ω–∞ GitHub Pages

1. –§–æ—Ä–∫–Ω—ñ—Ç—å —Ü–µ–π —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π
2. –£ –≤–∞—à–æ–º—É —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ—ó –ø–µ—Ä–µ–π–¥—ñ—Ç—å –¥–æ **Settings > Secrets and variables > Actions**
3. –î–æ–¥–∞–π—Ç–µ –Ω–∞—Å—Ç—É–ø–Ω—ñ —Å–µ–∫—Ä–µ—Ç–∏:

   - `VITE_SUPABASE_URL`: URL –≤–∞—à–æ–≥–æ Supabase –ø—Ä–æ–µ–∫—Ç—É
   - `VITE_SUPABASE_KEY`: –ø—É–±–ª—ñ—á–Ω–∏–π API –∫–ª—é—á Supabase

4. –í–Ω–µ—Å—ñ—Ç—å –±—É–¥—å-—è–∫—ñ –∑–º—ñ–Ω–∏ —Ç–∞ –∑—Ä–æ–±—ñ—Ç—å push –¥–æ –≤–∞—à–æ—ó `main` –≥—ñ–ª–∫–∏
5. GitHub Action –∞–≤—Ç–æ–º–∞—Ç–∏—á–Ω–æ —Ä–æ–∑–≥–æ—Ä–Ω–µ –≤–∞—à –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ –Ω–∞ GitHub Pages

## –õ–æ–∫–∞–ª—å–Ω–∏–π —Ä–æ–∑–≤–∏—Ç–æ–∫

1. –ö–ª–æ–Ω—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä—ñ–π

```bash
git clone https://github.com/your-username/calorie-tracker.git
cd calorie-tracker
```

2. –í—Å—Ç–∞–Ω–æ–≤—ñ—Ç—å –∑–∞–ª–µ–∂–Ω–æ—Å—Ç—ñ

```bash
npm install
```

3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ñ–∞–π–ª `.env` –∑ –≤–∞—à–∏–º–∏ Supabase –∫–ª—é—á–∞–º–∏

```
VITE_SUPABASE_URL=YOUR_SUPABASE_URL
VITE_SUPABASE_KEY=YOUR_SUPABASE_KEY
```

4. –ó–∞–ø—É—Å—Ç—ñ—Ç—å –∑–∞—Å—Ç–æ—Å—É–Ω–æ–∫ —É —Ä–µ–∂–∏–º—ñ —Ä–æ–∑—Ä–æ–±–∫–∏

```bash
npm run dev
```

## –ù–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è Supabase

1. –°—Ç–≤–æ—Ä—ñ—Ç—å –ø—Ä–æ–µ–∫—Ç —É [Supabase](https://app.supabase.io/)
2. –ù–∞–ª–∞—à—Ç—É–π—Ç–µ Google OAuth —É Supabase Auth –ø–∞–Ω–µ–ª—ñ
3. –°—Ç–≤–æ—Ä—ñ—Ç—å —Ç–∞–±–ª–∏—Ü—ñ –≤–∏–∫–æ—Ä–∏—Å—Ç–æ–≤—É—é—á–∏ SQL –∑ —Ä–æ–∑–¥—ñ–ª—É "SQL –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö" –Ω–∏–∂—á–µ
4. –î–æ–¥–∞–π—Ç–µ –¥–æ –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–∏—Ö –¥–æ–º–µ–Ω—ñ–≤:
   - `localhost:5173` (–¥–ª—è —Ä–æ–∑—Ä–æ–±–∫–∏)
   - `your-username.github.io` (–¥–ª—è GitHub Pages)

## SQL –¥–ª—è –Ω–∞–ª–∞—à—Ç—É–≤–∞–Ω–Ω—è –±–∞–∑–∏ –¥–∞–Ω–∏—Ö

```sql
-- –¢–∞–±–ª–∏—Ü—è –ø—Ä–æ–¥—É–∫—Ç—ñ–≤
CREATE TABLE products (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  name TEXT NOT NULL,
  calories_per_100g INTEGER NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE
);

-- –¢–∞–±–ª–∏—Ü—è –ø—Ä–∏–π–æ–º—ñ–≤ —ó–∂—ñ
CREATE TABLE entries (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  product_id UUID NOT NULL,
  product_name TEXT NOT NULL,
  grams INTEGER NOT NULL,
  calories INTEGER NOT NULL,
  date DATE NOT NULL,
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE,
  CONSTRAINT fk_product FOREIGN KEY (product_id) REFERENCES products (id) ON DELETE CASCADE
);

-- –¢–∞–±–ª–∏—Ü—è —Ü—ñ–ª–µ–π –ø–æ –∫–∞–ª–æ—Ä—ñ—è–º
CREATE TABLE calorie_goals (
  id UUID PRIMARY KEY,
  user_id UUID NOT NULL,
  value INTEGER NOT NULL,
  start_date TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  created_at TIMESTAMP WITH TIME ZONE DEFAULT NOW(),
  CONSTRAINT fk_user FOREIGN KEY (user_id) REFERENCES auth.users (id) ON DELETE CASCADE
);

-- –Ü–Ω–¥–µ–∫—Å–∏
CREATE INDEX idx_products_user_id ON products (user_id);
CREATE INDEX idx_entries_user_id ON entries (user_id);
CREATE INDEX idx_entries_date ON entries (date);
CREATE INDEX idx_goals_user_id ON calorie_goals (user_id);
CREATE INDEX idx_goals_start_date ON calorie_goals (start_date);

-- –î–æ–∑–≤–æ–ª–∏ —á–µ—Ä–µ–∑ Row Level Security
ALTER TABLE products ENABLE ROW LEVEL SECURITY;
ALTER TABLE entries ENABLE ROW LEVEL SECURITY;
ALTER TABLE calorie_goals ENABLE ROW LEVEL SECURITY;

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è products
CREATE POLICY "Users can view only their products"
  ON products FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own products"
  ON products FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own products"
  ON products FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own products"
  ON products FOR DELETE USING (auth.uid() = user_id);

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è entries
CREATE POLICY "Users can view only their entries"
  ON entries FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own entries"
  ON entries FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own entries"
  ON entries FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own entries"
  ON entries FOR DELETE USING (auth.uid() = user_id);

-- –ü–æ–ª—ñ—Ç–∏–∫–∏ –¥–ª—è calorie_goals
CREATE POLICY "Users can view only their goals"
  ON calorie_goals FOR SELECT USING (auth.uid() = user_id);

CREATE POLICY "Users can insert their own goals"
  ON calorie_goals FOR INSERT WITH CHECK (auth.uid() = user_id);

CREATE POLICY "Users can update their own goals"
  ON calorie_goals FOR UPDATE USING (auth.uid() = user_id);

CREATE POLICY "Users can delete their own goals"
  ON calorie_goals FOR DELETE USING (auth.uid() = user_id);
```

## –õ—ñ—Ü–µ–Ω–∑—ñ—è

MIT
